(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[150],{6713:function(t,e,a){Promise.resolve().then(a.bind(a,203))},203:function(t,e,a){"use strict";a.d(e,{default:function(){return s}});var n=a(7437),r=a(2265);a(9969);let i=(0,r.forwardRef)((t,e)=>{let{text:a,preset:i,time:s,maxTime:l}=t,c=(0,r.useRef)(null),o=(0,r.useRef)(null),[h,g]=(0,r.useState)([]),[d,m]=(0,r.useState)(!1),{calculateAgingEffect:u}=function(){let t=(0,r.useCallback)((t,a,n,r)=>{let i=(r+1)*.1,s=.1*Math.sin(n*Math.PI*2+i),l=Math.min(1,Math.max(0,n+s)),c=1-l*a.settings.decayRate,o=l*a.settings.blurAmount*3,h=e(a.settings.colorShift*l,l,i);return{opacity:Math.max(.1,c),blur:o,color:h,rotation:l*a.settings.decayRate*5*(Math.sin(10*i)>0?1:-1),scale:Math.max(.7,1-l*a.settings.decayRate*.3),crackIntensity:l*a.settings.crackIntensity*(.5+.5*Math.sin(7*i))}},[]),e=(0,r.useCallback)((t,e,n)=>a((0+(30*t+10*Math.sin(5*n)))%360,Math.min(1,0+.3*t),Math.min(.8,.1+(.4*t+.2*e))),[]),a=(0,r.useCallback)((t,e,a)=>{let n=(1-Math.abs(2*a-1))*e,r=n*(1-Math.abs(t/60%2-1)),i=a-n/2,s=0,l=0,c=0;0<=t&&t<60?(s=n,l=r,c=0):60<=t&&t<120?(s=r,l=n,c=0):120<=t&&t<180?(s=0,l=n,c=r):180<=t&&t<240?(s=0,l=r,c=n):240<=t&&t<300?(s=r,l=0,c=n):300<=t&&t<360&&(s=n,l=0,c=r);let o=Math.round((s+i)*255),h=Math.round((l+i)*255),g=Math.round((c+i)*255);return"rgb(".concat(o,", ").concat(h,", ").concat(g,")")},[]);return{calculateAgingEffect:t,calculateAgedColor:e,generateNoise:(0,r.useCallback)((t,e,a,n)=>{let r=document.createElement("canvas");r.width=t,r.height=e;let i=r.getContext("2d");if(!i)return new ImageData(1,1);let s=i.createImageData(t,e),l=s.data;for(let t=0;t<l.length;t+=4){let e=Math.max(0,Math.min(255,128+(Math.random()-.5)*a*50));l[t]=e,l[t+1]=e,l[t+2]=e,l[t+3]=255}return s},[]),generateCrackPattern:(0,r.useCallback)((t,e,a,n)=>{let r=[],i=Math.floor(20*a);for(let a=0;a<i;a++){let a=(Math.random()*Math.PI*2+n)%(2*Math.PI),i=Math.random()*Math.min(t,e)*.3,s=Math.random()*t,l=Math.random()*e,c=s+Math.cos(a)*i/2,o=l+Math.sin(a)*i/2,h=s-Math.cos(a)*i/2,g=l-Math.sin(a)*i/2;r.push({x1:c,y1:o,x2:h,y2:g})}return r},[])}}();(0,r.useEffect)(()=>{a&&(g(a.split("").map((t,e)=>({char:" "===t?"\xa0":t,opacity:1,blur:0,color:"#000000",rotation:0,scale:1,crackIntensity:0,noiseOffset:1e3*Math.random()}))),m(!0))},[a]),(0,r.useEffect)(()=>{if(!d)return;let t=s/l;g(e=>0===e.length?e:e.map((e,a)=>{let n=u(e,i,t,a);return{...e,...n}}))},[s,l,i,d,u]),(0,r.useEffect)(()=>{if(!c.current||!d)return;let t=c.current,e=t.getContext("2d");if(!e)return;let a=o.current;if(a){let e=a.getBoundingClientRect();t.width=e.width,t.height=e.height}e.clearRect(0,0,t.width,t.height),f(e,t.width,t.height,i,s/l),h.length>0&&b(e,h,t.width,t.height)},[h,i,s,l,d]);let f=(t,e,a,n,r)=>{let i=t.createLinearGradient(0,0,e,a),s=k("#f8f8f8",n.settings.colorShift,r);i.addColorStop(0,s),i.addColorStop(1,k("#e8e8e8",n.settings.colorShift,r)),t.fillStyle=i,t.fillRect(0,0,e,a),n.settings.noiseIntensity>0&&M(t,e,a,n.settings.noiseIntensity,r),n.settings.crackIntensity>0&&x(t,e,a,n.settings.crackIntensity,r)},M=(t,e,a,n,r)=>{let i=t.createImageData(e,a),s=i.data;for(let t=0;t<s.length;t+=4){let e=(Math.random()-.5)*n*r*50;s[t]=Math.max(0,Math.min(255,s[t]+e)),s[t+1]=Math.max(0,Math.min(255,s[t+1]+e)),s[t+2]=Math.max(0,Math.min(255,s[t+2]+e)),s[t+3]=255}t.putImageData(i,0,0)},x=(t,e,a,n,r)=>{t.strokeStyle="rgba(100, 100, 100, ".concat(n*r*.3,")"),t.lineWidth=1;let i=Math.floor(n*r*10);for(let n=0;n<i;n++)t.beginPath(),t.moveTo(Math.random()*e,Math.random()*a),t.lineTo(Math.random()*e,Math.random()*a),t.stroke()},b=(t,e,n,r)=>{let i=Math.min(n,r)/Math.max(a.length,10)*2;t.font="".concat(i,'px "Hiragino Sans", "Helvetica Neue", sans-serif');let s=e.reduce((e,a)=>e+t.measureText(a.char).width,0),l=r/2,c=(n-s)/2;e.forEach((e,a)=>{t.save();let n=t.measureText(e.char).width;t.translate(c+n/2,l),t.rotate(e.rotation*Math.PI/180),t.scale(e.scale,e.scale),e.blur>0&&(t.filter="blur(".concat(e.blur,"px)")),t.fillStyle=e.color,t.globalAlpha=e.opacity,t.fillText(e.char,-n/2,0),e.crackIntensity>0&&y(t,e,n,i),t.restore(),c+=n})},y=(t,e,a,n)=>{t.strokeStyle="rgba(150, 150, 150, ".concat(.5*e.crackIntensity,")"),t.lineWidth=.5;let r=Math.floor(3*e.crackIntensity);for(let e=0;e<r;e++)t.beginPath(),t.moveTo(-a/2+Math.random()*a,-n/2+Math.random()*n),t.lineTo(-a/2+Math.random()*a,-n/2+Math.random()*n),t.stroke()},k=(t,e,a)=>{let n=e*a;return"rgb(".concat(Math.floor(255*(1-.3*n)),", ").concat(Math.floor(255*(1-.2*n)),", ").concat(Math.floor(255*(1-.4*n)),")")};return d&&0!==h.length?(0,n.jsxs)("div",{className:"aging-text-art-container",ref:e,children:[(0,n.jsx)("canvas",{ref:c,className:"aging-text-canvas",style:{width:"100%",height:"100%",display:"block"}}),!1]}):(0,n.jsxs)("div",{className:"aging-text-loading",children:[(0,n.jsx)("div",{className:"aging-text-loading-spinner"}),(0,n.jsx)("p",{children:"文字を準備中..."})]})});function s(){let[t,e]=(0,r.useState)(!1);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"aging-text-corner-text top-left",children:"DIGITAL AGING"}),(0,n.jsx)("div",{className:"aging-text-corner-text top-right",children:"2025"}),(0,n.jsx)("div",{className:"aging-text-corner-text bottom-left",children:"ENTROPY"}),(0,n.jsxs)("div",{className:"aging-text-corner-text bottom-center",children:["SCROLL",(0,n.jsx)("div",{className:"aging-text-scroll-arrow",children:"↓"})]}),(0,n.jsx)("div",{className:"aging-text-canvas-container",children:(0,n.jsx)(i,{text:"LETTER",preset:{id:"vintage",name:"ヴィンテージ",description:"古い紙のような質感",settings:{decayRate:.05,colorShift:.3,blurAmount:1,noiseIntensity:.6,crackIntensity:.5}},time:t?50:0,maxTime:100})}),(0,n.jsxs)("div",{className:"aging-text-controls",children:[(0,n.jsx)("button",{className:"aging-text-control-btn aging-text-play-btn",onClick:()=>{e(!t)},children:t?"⏸":"▶"}),(0,n.jsx)("button",{className:"aging-text-control-btn aging-text-reset-btn",onClick:()=>{e(!1)},children:"↻"})]})]})}i.displayName="LetterAgingArt"},9969:function(){}},function(t){t.O(0,[837,971,117,744],function(){return t(t.s=6713)}),_N_E=t.O()}]);